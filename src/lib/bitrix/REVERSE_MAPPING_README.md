# –û–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ Bitrix ‚Üí Shopify

## –û–ø–∏—Å–∞–Ω–∏–µ

–û–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix –≤ Shopify. –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–π—Ç–∏ –≤—Å–µ SKU –≤ Shopify, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—É –∏–∑ Bitrix.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```json
{
  "2900": ["SGR00001", "SGR00002", "SGR00003", ...],
  "3032": ["KL01393", "KL01394", "KL01395", ...],
  "4130": ["ALB0002", "ALB0005"]
}
```

–ì–¥–µ:
- **–ö–ª—é—á**: Bitrix Product ID (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞)
- **–ó–Ω–∞—á–µ–Ω–∏–µ**: –ú–∞—Å—Å–∏–≤ SKU –∏–∑ Shopify (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞)

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

### Semantic Reverse Mapping

- **–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ Bitrix**: 574
- **–ü—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º**: 553
- **–ü—Ä–æ–¥—É–∫—Ç–æ–≤ –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞**: 21
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 96.34%

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É SKU

- **1 SKU**: 29 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **2-5 SKU**: 26 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **6-10 SKU**: 213 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **11+ SKU**: 285 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–ú–∞–∫—Å–∏–º—É–º SKU –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç**: 59

### –ü—Ä–æ–¥—É–∫—Ç—ã –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞

21 –ø—Ä–æ–¥—É–∫—Ç –Ω–µ –∏–º–µ–µ—Ç –º–∞–ø–ø–∏–Ω–≥–∞ –≤ Shopify. –≠—Ç–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º:
- **–ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** (Gift certificates) - –Ω–µ —Ç–æ–≤–∞—Ä—ã, –Ω–µ –Ω—É–∂–Ω—ã –≤ Shopify
- **–¢–µ—Å—Ç–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã** (Test products) - –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã** - –≤–æ–∑–º–æ–∂–Ω–æ, –µ—â–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ** - –Ω–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ Bitrix –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ Shopify.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç

```javascript
import bitrixToShopifyMapping from './bitrixToShopifyMappingSemantic.json' assert { type: 'json' };
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ SKU –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ Bitrix
const bitrixProductId = 3032;
const shopifySkus = bitrixToShopifyMapping[bitrixProductId];

if (shopifySkus && shopifySkus.length > 0) {
  console.log(`Product ${bitrixProductId} has ${shopifySkus.length} SKUs in Shopify:`);
  shopifySkus.forEach(sku => console.log(`  - ${sku}`));
} else {
  console.log(`Product ${bitrixProductId} has no SKU mapping in Shopify`);
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö SKU

–û–¥–∏–Ω Bitrix –ø—Ä–æ–¥—É–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ SKU –≤ Shopify (—Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞):

```javascript
const bitrixProductId = 4130;
const shopifySkus = bitrixToShopifyMapping[bitrixProductId];

// shopifySkus = ["ALB0002", "ALB0005"]

// –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π SKU –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ
const primarySku = shopifySkus[0];
// –∏–ª–∏
shopifySkus.forEach(sku => {
  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
});
```

## –§–∞–π–ª—ã

- `bitrixToShopifyMappingSemantic.json` - –û–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ semantic mapping (96.34% –ø–æ–∫—Ä—ã—Ç–∏–µ)

## –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥:

```bash
cd C:\Users\sadov\PycharmProjects\ai-multiagent-mvp-system
python build_reverse_semantic_mapping.py
```

## –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞:

```bash
python analyze_reverse_coverage.py
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–±—Ä–∞—Ç–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π: Bitrix ‚Üí Shopify

1. **–°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ Shopify –∏–∑ Bitrix**
   - –ù–∞–π—Ç–∏ –≤—Å–µ SKU –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ Bitrix
   - –û–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ Shopify

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤**
   - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ SKU –ø—Ä–æ–¥—É–∫—Ç–∞
   - –û–±–Ω–æ–≤–∏—Ç—å inventory –¥–ª—è –∫–∞–∂–¥–æ–≥–æ SKU

3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ü–µ–Ω**
   - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ SKU –ø—Ä–æ–¥—É–∫—Ç–∞
   - –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```javascript
function syncBitrixProductToShopify(bitrixProductId, bitrixProductData) {
  const shopifySkus = bitrixToShopifyMapping[bitrixProductId];
  
  if (!shopifySkus || shopifySkus.length === 0) {
    console.warn(`Product ${bitrixProductId} has no SKU mapping - cannot sync to Shopify`);
    return null;
  }
  
  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π SKU
  return shopifySkus.map(sku => {
    return {
      sku: sku,
      // ... –¥–∞–Ω–Ω—ã–µ –∏–∑ Bitrix –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    };
  });
}
```

## –í—ã–≤–æ–¥—ã

‚úÖ **–û–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
- –ü–æ–∫—Ä—ã—Ç–∏–µ 96.34% (553 –∏–∑ 574 –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- 21 –ø—Ä–æ–¥—É–∫—Ç –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, —Ç–µ—Å—Ç—ã)
- –í—Å–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç –º–∞–ø–ø–∏–Ω–≥

üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Bitrix ‚Üí Shopify






